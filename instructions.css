:root{
  /* colours aligned with index.html */
  --bg: #f5f7fb;
  --panel: #ffffff;
  --text: #0e2a47;
  --muted: #5b6b7a;
  --brand: #3ea8ff;
  --brand-2: #1f8df2;
  --accent: #ffdd00;
  --ring: 3px solid rgba(63, 139, 255, .45);
  --radius: 14px;
  --shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
  --border: rgba(0,0,0,0.08);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #111213;
    --panel: #1a1b1e;
    --text: #e9eef6;
    --muted: #b8c0cc;
    --brand: #66bfff;
    --brand-2: #7cc6ff;
    --accent: #ffdd00;
    --shadow: 0 10px 24px rgba(0,0,0,.45);
  }
}

/* Base */
h1,h2,h3 { color: var(--text); margin-top: 0; }
/* Base layout */
body {
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  max-width: 1000px;
  margin: auto;
  padding: 20px;
  line-height: 1.45;
}
h1,h2,h3 { color: var(--text); margin-top: 0; }
p { margin: .5rem 0 1rem; }
ul,ol { margin: .5rem 0 1rem 1.25rem; }
img { width: 100%; height: auto; border: 1px solid color-mix(in oklab, var(--muted) 12%, transparent); border-radius: 10px; background:#f2f4f7; }

/* Cards/sections */
.section {
  background: var(--panel);
  padding: 20px;
  margin: 20px 0;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid color-mix(in oklab, var(--muted) 12%, transparent);
}

/* Unified “row” layout (applies to both .step and .flex-row) */
.step, .flex-row {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 16px;
  align-items: start;
  background: var(--panel);
  border: 1px solid color-mix(in oklab, var(--muted) 6%, transparent);
  border-radius: var(--radius);
  padding: 16px;
  margin: 14px 0;
}
.step-media { /* left side media container: allow natural image sizing */
  display: block;
}
.step-media img {
  width: 100%;
  height: auto;
  object-fit: contain;
}
.flex-row img { /* full-setup/how-to images: don't force crop, keep natural aspect */
  width: 100%;
  height: auto;
  aspect-ratio: auto;
  object-fit: contain;
}
.step-text, .flex-text { /* right text column */
  margin: 0;
}

/* Tabs */
.tab-buttons {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 0 0 20px;
  flex-wrap: wrap;
}
.tab-buttons button {
  padding: 10px 18px;
  font-weight: 700;
  background: var(--brand);
  color: #08223e;
  border: 0;
  border-radius: 8px;
  cursor: pointer;
  transition: background .2s ease, transform .02s ease;
}
.tab-buttons button:hover { background: var(--brand-2); }
.tab-buttons button:active { transform: translateY(1px); }
.tab-buttons button.active {
  outline: var(--ring);
  background: var(--brand-2);
}

/* Hidden helper */
.hidden { display: none !important; }

/* Lightbox */
.popup-overlay {
  display: none; position: fixed; inset: 0; background: rgba(0,0,0,.75);
  justify-content: center; align-items: center; z-index: 1000;
}
.popup-overlay img { max-width: 92%; max-height: 92%; border: 4px solid color-mix(in oklab, var(--panel) 90%, black); border-radius: 12px; }

/* Floating back button */
.floating-button {
  position: fixed; bottom: 20px; right: 20px;
  background: var(--brand); color: #08223e;
  padding: 10px 16px; border-radius: 10px; font-weight: 700; text-decoration: none;
  box-shadow: var(--shadow); z-index: 1001; transition: background .3s ease;
}
.floating-button:hover { background: var(--brand-2); }

/* Responsive */
@media (max-width: 750px){
  .step, .flex-row { grid-template-columns: 1fr; }
  /* keep layout single-column on small screens; images use natural aspect */
}
